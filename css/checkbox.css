/* Checkbox component styles â€” tuned to match Figma Dev Mode visuals */

/* Rely on standard design tokens (defined in css/styles.css):
   --ds-checkbox-size, --ds-primary, --ds-surface, --ds-surface-2,
   --ds-border, --ds-fg, and --ds-error */

.ds-checkbox {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-family: var(--ds-font);
  color: var(--ds-fg);
}

.ds-checkbox__control {
  --size: var(--ds-checkbox-size, 18px);
  width: var(--size);
  height: var(--size);
  border-radius: var(--ds-radius-small); /* Figma uses small 2px radius */
  border: 2px solid var(--ds-fg);
  background: var(--ds-surface-2, #ffffff);
  display: inline-grid;
  place-items: center;
  transition: background .08s linear, border-color .08s linear, box-shadow .12s ease;
}

.ds-checkbox__input {
  position: absolute;
  opacity: 0;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  border: 0;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  white-space: nowrap;
}

.ds-checkbox__box {
  width: 100%;
  height: 100%;
  display: inline-grid;
  place-items: center;
}

.ds-checkbox__check {
  display: none;
  color: var(--ds-surface-2);
}

/* Scale the SVG check to fit the 18px box precisely (approx 66%) */
.ds-checkbox__check svg { width: calc(var(--ds-checkbox-size, 18px) * 0.66); height: calc(var(--ds-checkbox-size, 18px) * 0.66); }

/* Checked */
.ds-checkbox[data-checked="true"] .ds-checkbox__control {
  background: var(--ds-primary);
  border-color: var(--ds-primary);
}
.ds-checkbox[data-checked="true"] .ds-checkbox__check {
  display: block;
  color: var(--ds-surface-2);
}

/* Indeterminate */
.ds-checkbox[data-indeterminate="true"] .ds-checkbox__control {
  background: var(--ds-primary);
  border-color: var(--ds-primary);
}
.ds-checkbox[data-indeterminate="true"] .ds-checkbox__check { display: block; }

.ds-checkbox:hover .ds-checkbox__control {
  border-color: color-mix(in srgb, var(--ds-fg) 60%, var(--ds-primary) 40%);
}

.ds-checkbox:focus-within .ds-checkbox__control {
  box-shadow: 0 0 0 4px rgba(3,117,210,0.12);
}

.ds-checkbox[aria-disabled="true"] {
  opacity: .6;
  cursor: not-allowed;
}

.ds-checkbox__label { font-size: 15px; line-height: 1; }

.visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; }

/* Variant helpers from Figma */
.ds-checkbox--surface .ds-checkbox__control {
  background: var(--ds-surface);
  border-color: #cfcfcf;
}

.ds-checkbox--disabled .ds-checkbox__control {
  border-color: rgba(31,31,31,0.38);
  background: transparent;
}
.ds-checkbox--disabled[aria-checked="true"] .ds-checkbox__control {
  background: rgba(31,31,31,0.38);
  border-color: rgba(31,31,31,0.38);
}

.ds-checkbox--error .ds-checkbox__control {
  border-color: var(--ds-error);
  background: transparent;
}
.ds-checkbox--error[aria-checked="true"] .ds-checkbox__control {
  background: var(--ds-error);
  border-color: var(--ds-error);
}

/* Make check SVG stroke-only to match Figma visuals */
.ds-checkbox__check svg { display: block; }
.ds-checkbox__check path {
  stroke-width: 2.6;
  stroke: currentColor;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.ds-checkbox__check rect {
  /* indeterminate bar: filled */
  fill: currentColor;
  stroke: none;
}
